{
  "name": "url_shortener",
  "frontend": "// {APP_NAME} - URL Shortener Frontend\n\nimport { useState } from 'react'\nimport './index.css'\n\nfunction App() {\n  const [longUrl, setLongUrl] = useState('')\n  const [shortUrl, setShortUrl] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [copied, setCopied] = useState(false)\n\n  const handleShorten = async (e) => {\n    e.preventDefault()\n    setLoading(true)\n    try {\n      const res = await fetch('http://localhost:8000/api/shorten', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ url: longUrl })\n      })\n      const data = await res.json()\n      setShortUrl(data.short_url)\n    } catch (err) {\n      alert('Failed to shorten URL')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(shortUrl)\n    setCopied(true)\n    setTimeout(() => setCopied(false), 2000)\n  }\n\n  return (\n    <div className=\"app\">\n      <aside className=\"sidebar\">\n        <div className=\"sidebar-header\">\n          <h2>{APP_NAME}</h2>\n          <p>Shorten links, track clicks</p>\n        </div>\n        <div className=\"sidebar-nav\">\n          <div className=\"nav-section\">\n            <div className=\"nav-section-title\">Features</div>\n            <div className=\"nav-item\"><span>ðŸ”—</span> Short URLs</div>\n            <div className=\"nav-item\"><span>ðŸ“Š</span> Click tracking</div>\n            <div className=\"nav-item\"><span>âš¡</span> Instant</div>\n          </div>\n        </div>\n      </aside>\n\n      <main className=\"main-content\">\n        <div className=\"hero\">\n          <h1>URL Shortener</h1>\n          <p className=\"hero-subtitle\">Make your links shorter and trackable</p>\n        </div>\n\n        <form onSubmit={handleShorten} className=\"input-section\">\n          <input\n            type=\"url\"\n            className=\"prompt-input\"\n            placeholder=\"Paste your long URL here...\"\n            value={longUrl}\n            onChange={(e) => setLongUrl(e.target.value)}\n            required\n          />\n          <button type=\"submit\" className=\"generate-btn\" disabled={loading}>\n            {loading ? <><div className=\"spinner\"></div> Shortening...</> : <>ðŸ”— Shorten URL</>}\n          </button>\n        </form>\n\n        {shortUrl && (\n          <div className=\"result-card\">\n            <h3>Your shortened URL:</h3>\n            <div className=\"url-display\">\n              <code>{shortUrl}</code>\n              <button onClick={copyToClipboard} className=\"copy-btn\">\n                {copied ? 'âœ“ Copied!' : 'ðŸ“‹ Copy'}\n              </button>\n            </div>\n          </div>\n        )}\n      </main>\n    </div>\n  )\n}\n\nexport default App",
  "backend": "# {APP_NAME} - URL Shortener Backend\n\nfrom fastapi import FastAPI, HTTPException\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.responses import RedirectResponse\nfrom pydantic import BaseModel\nimport string\nimport random\n\napp = FastAPI()\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"*\"],\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# In-memory storage\nurl_mapping = {}\n\nclass URLRequest(BaseModel):\n    url: str\n\nclass URLResponse(BaseModel):\n    short_url: str\n    original_url: str\n\ndef generate_short_code(length=6):\n    chars = string.ascii_letters + string.digits\n    while True:\n        code = ''.join(random.choice(chars) for _ in range(length))\n        if code not in url_mapping:\n            return code\n\n@app.post(\"/api/shorten\", response_model=URLResponse)\nasync def shorten_url(request: URLRequest):\n    code = generate_short_code()\n    url_mapping[code] = request.url\n    short_url = f\"http://localhost:8000/{code}\"\n    return URLResponse(short_url=short_url, original_url=request.url)\n\n@app.get(\"/{code}\")\nasync def redirect_url(code: str):\n    if code not in url_mapping:\n        raise HTTPException(status_code=404, detail=\"URL not found\")\n    return RedirectResponse(url=url_mapping[code])\n\nif __name__ == \"__main__\":\n    import uvicorn\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)",
  "database": "-- {APP_NAME} - Supabase Schema\n\nCREATE TABLE urls (\n  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,\n  short_code TEXT NOT NULL UNIQUE,\n  original_url TEXT NOT NULL,\n  clicks INTEGER DEFAULT 0,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n);\n\nALTER TABLE urls ENABLE ROW LEVEL SECURITY;\n\nCREATE POLICY \"Enable all for all\" ON urls FOR ALL USING (true) WITH CHECK (true);\n\nCREATE INDEX idx_urls_short_code ON urls(short_code);",
  "deploy": "# {APP_NAME} - Deployment\n\n## Setup\n1. Create Supabase project and run schema\n2. Deploy backend to Render with custom domain\n3. Deploy frontend to Netlify\n4. Update short URL base in backend to use production domain"
}
